(()=>{"use strict";var e,t={850:()=>{const e=window.wp.element,t=window.wp.components,i=window.wp.i18n,n=window.wp.plugins,l=window.wp.hooks,s=window.wp.date,r=n=>{let{rules:l,setAttributes:r,attributes:a}=n;const[o,c]=(0,e.useState)(!1),[u,d]=(0,e.useState)(!1),m=(e,t)=>{r({contentVisibilityRules:{...t,dateTime:{...t.dateTime,[e]:{}}}})},b=()=>(0,e.createElement)(t.DateTimePicker,{currentDate:l.dateTime.start,onChange:e=>{r({contentVisibilityRules:{...l,dateTime:{...l.dateTime,start:e}}}),c(!1)},is12Hour:!1}),y=()=>(0,e.createElement)(t.DateTimePicker,{currentDate:l.dateTime.end,onChange:e=>{r({contentVisibilityRules:{...l,dateTime:{...l.dateTime,end:e}}}),d(!1)},is12Hour:!1}),p=()=>(0,e.createElement)(t.Icon,{icon:()=>(0,e.createElement)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"1","stroke-linecap":"round","stroke-linejoin":"round",class:"feather feather-x-circle"},(0,e.createElement)("circle",{cx:"12",cy:"12",r:"10"}),(0,e.createElement)("line",{x1:"15",y1:"9",x2:"9",y2:"15"}),(0,e.createElement)("line",{x1:"9",y1:"9",x2:"15",y2:"15"}))});return(0,e.createElement)((()=>(0,e.createElement)("div",{className:"content-visibility-schedule-controls"},(0,e.createElement)("div",{className:"components-dropdown"},(0,e.createElement)(t.Button,{isLink:!0,className:"content-visibility-set-date-time",icon:"calendar-alt",onClick:()=>c(!o)},l.dateTime.start&&"string"==typeof l.dateTime.start?(0,s.dateI18n)("D M j Y, G:i",l.dateTime.start):(0,i.__)("Set Start Date/Time")),o&&(0,e.createElement)(t.Popover,{position:"middle left",className:"content-visibility-picker-popover content-visibility-picker-popover-start",onClose:c.bind(null,!1)},(0,e.createElement)(b,null)),l.dateTime.start&&"string"==typeof l.dateTime.start&&(0,e.createElement)(t.Button,{isLink:!0,label:"Clear date and time",className:"content-visibility-clear-date-time",onClick:()=>{m("start",l)}},(0,e.createElement)(p,null))),(0,e.createElement)("div",{className:"components-dropdown"},(0,e.createElement)(t.Button,{isLink:!0,className:"content-visibility-set-date-time",icon:"calendar-alt",onClick:()=>d(!u)},l.dateTime.end&&"string"==typeof l.dateTime.end?(0,s.dateI18n)("D M j Y, G:i",l.dateTime.end):(0,i.__)("Set End Date/Time")),u&&(0,e.createElement)(t.Popover,{position:"middle left",className:"content-visibility-picker-popover content-visibility-picker-popover-end",onClose:d.bind(null,!1)},(0,e.createElement)(y,null)),l.dateTime.end&&"string"==typeof l.dateTime.end&&(0,e.createElement)(t.Button,{isLink:!0,label:"Clear date and time",className:"content-visibility-clear-date-time",onClick:()=>{m("end",l)}},(0,e.createElement)(p,null))),(0,e.createElement)("p",{className:"date-time-help-intro content-visibility-help-text"},(0,i.__)("Set start and/or end dates for when this block will be "+a.contentVisibility+". Not selecting either date will mean this block is "+a.contentVisibility+" at all times.")))),null)},a=function(n){let{setAttributes:s,attributes:a}=n,o=a.contentVisibilityRules,c=function(e,t){if(!e.contentVisibilityRules)return!1;if(!e.contentVisibilityRules[t])return!1;let i=!1;return"dateTime"===t&&(e.contentVisibilityRules[t]&&e.contentVisibilityRules[t].start&&0!==Object.keys(e.contentVisibilityRules[t].start).length&&(i=!0),e.contentVisibilityRules[t]&&e.contentVisibilityRules[t].end&&0!==Object.keys(e.contentVisibilityRules[t].end).length&&(i=!0)),(0,l.applyFilters)("content-visibility-has-rules",i,e,t)}(a,"dateTime")?" has-active-rules":"";return(0,e.createElement)(t.PanelBody,{title:(0,i.__)("Date and Time","content-visibility-date-time"),initialOpen:!1,className:"content-visibility-control-panel block-visibility-date-time-controls"+c},(0,e.createElement)(t.PanelRow,null,(0,e.createElement)(r,{rules:o,setAttributes:s,attributes:a})))};function o(i){let n=i.attributes.contentVisibilityRules.contentVisibilityRulesEnabled,l=i.attributes.hasOwnProperty("contentVisibility");return n&&l?(0,e.createElement)(a,{setAttributes:i.setAttributes,attributes:i.attributes}):(0,e.createElement)(t.Disabled,null,(0,e.createElement)(a,{setAttributes:i.setAttributes,attributes:i.attributes}))}(0,n.registerPlugin)("content-visibility-03-date-time-fill",{render:function(){return(0,e.createElement)(t.Fill,{name:"content-visibility-extra-controls"},(t=>(0,e.createElement)(o,{setAttributes:t.setAttributes,attributes:t.attributes})))}}),(0,l.addFilter)("contentVisibility.defaultContentVisibilityRules","content-visibility-date-time/block-visibility-rules",(function(e){return e.dateTime={start:null,end:null},e}))}},i={};function n(e){var l=i[e];if(void 0!==l)return l.exports;var s=i[e]={exports:{}};return t[e](s,s.exports,n),s.exports}n.m=t,e=[],n.O=(t,i,l,s)=>{if(!i){var r=1/0;for(u=0;u<e.length;u++){for(var[i,l,s]=e[u],a=!0,o=0;o<i.length;o++)(!1&s||r>=s)&&Object.keys(n.O).every((e=>n.O[e](i[o])))?i.splice(o--,1):(a=!1,s<r&&(r=s));if(a){e.splice(u--,1);var c=l();void 0!==c&&(t=c)}}return t}s=s||0;for(var u=e.length;u>0&&e[u-1][2]>s;u--)e[u]=e[u-1];e[u]=[i,l,s]},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={826:0,431:0};n.O.j=t=>0===e[t];var t=(t,i)=>{var l,s,[r,a,o]=i,c=0;if(r.some((t=>0!==e[t]))){for(l in a)n.o(a,l)&&(n.m[l]=a[l]);if(o)var u=o(n)}for(t&&t(i);c<r.length;c++)s=r[c],n.o(e,s)&&e[s]&&e[s][0](),e[s]=0;return n.O(u)},i=globalThis.webpackChunkcontent_visibility_user_role=globalThis.webpackChunkcontent_visibility_user_role||[];i.forEach(t.bind(null,0)),i.push=t.bind(null,i.push.bind(i))})();var l=n.O(void 0,[431],(()=>n(850)));l=n.O(l)})();
{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./node_modules/@babel/runtime/helpers/defineProperty.js","webpack:///./src/controls/block-visibility-date-time-controls.js","webpack:///./src/controls/block-visibility-date-time-panel-body.js","webpack:///./src/controls/block-visibility-date-time.js","webpack:///./src/index.js","webpack:///external {\"this\":[\"wp\",\"components\"]}","webpack:///external {\"this\":[\"wp\",\"compose\"]}","webpack:///external {\"this\":[\"wp\",\"element\"]}","webpack:///external {\"this\":[\"wp\",\"hooks\"]}","webpack:///external {\"this\":[\"wp\",\"i18n\"]}","webpack:///external {\"this\":[\"wp\",\"plugins\"]}"],"names":["BlockVisibilityDateTimeControls","data","props","is12HourTime","persistedData","attributes","blockVisibilityRules","dateTime","thisStartDate","start","thisEndDate","end","onSelect","tabName","console","log","ScheduleStartDateTime","date","setAttributes","ScheduleEndDateTime","BlockVisibilityScheduleTabs","name","title","className","tab","BlockVisibilityDateTimePanelBodyControl","instanceId","id","__","withInstanceId","BlockVisibilityDateTimeControl","rulesEnabled","blockVisibilityRulesEnabled","blockVisibility","hasOwnProperty","BlockVisibilityDateTimeFill","fillProps","registerPlugin","render","addFilter","registerDateTimeBlockVisibilityRule","defaultRules"],"mappings":"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","file":"index.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./src/index.js\");\n","function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nmodule.exports = _defineProperty;","import { DateTimePicker, TabPanel } from '@wordpress/components';\n\nexport const BlockVisibilityDateTimeControls = ( data ) => {\n\n    let { props } = { ...data };\n\n    const is12HourTime = true;\n\n    let persistedData = props.attributes.blockVisibilityRules.dateTime;\n\n    let thisStartDate = persistedData.start;\n    let thisEndDate = persistedData.end;\n\n    const onSelect = ( tabName ) => {\n        console.log( 'Selecting tab', tabName );\n    };\n\n    const ScheduleStartDateTime = () => (\n        <DateTimePicker\n            currentDate={ thisStartDate }\n            onChange={ ( date ) => {\n\n                props.setAttributes( {\n                    blockVisibilityRules: {\n                        ...props.attributes.blockVisibilityRules,\n                        dateTime: {\n                            ...props.attributes.blockVisibilityRules.dateTime,\n                            'start': date\n                        }\n                    },\n                } );\n\n            } }\n            is12Hour={ is12HourTime }\n        />\n    );\n\n    const ScheduleEndDateTime = () => (\n        <DateTimePicker\n            currentDate={ thisEndDate }\n            onChange={ ( date ) => {\n\n                props.setAttributes( {\n                    blockVisibilityRules: {\n                        ...props.attributes.blockVisibilityRules,\n                        dateTime: {\n                            ...props.attributes.blockVisibilityRules.dateTime,\n                            'end': date\n                        }\n                    },\n                } );\n\n                // Ensure the 'end' tab is still active as the DateTime picker seems to refresh parent components\n                // This doesn't work.\n                // let endTab = document.getElementsByClassName('tab-schedule-end')[0];\n                // endTab.click();\n\n            } }\n            is12Hour={ is12HourTime }\n        />\n    );\n\n    const BlockVisibilityScheduleTabs = () => (\n        <TabPanel className=\"block-visibility-schedule-tabs\"\n            activeClass=\"active-tab\"\n            onSelect={ onSelect }\n            tabs={ [\n                {\n                    name: 'scheduleStart',\n                    title: 'Start',\n                    className: 'tab-schedule-start',\n                },\n                {\n                    name: 'scheduleEnd',\n                    title: 'Stop',\n                    className: 'tab-schedule-end',\n                },\n            ] }>\n            {\n                ( tab ) => {\n\n                    switch  ( tab.name ) {\n                        case 'scheduleStart':\n                            return (\n                                <ScheduleStartDateTime />\n                            );\n                        break;\n\n                        case 'scheduleEnd':\n                            return (\n                                <ScheduleEndDateTime />\n                            );\n                        break;\n                    }\n\n                }\n            }\n        </TabPanel>\n    );\n\n\treturn (\n        <BlockVisibilityScheduleTabs />\n\t);\n\n};\n","import { PanelBody, PanelRow } from '@wordpress/components';\nimport { withInstanceId } from '@wordpress/compose';\nimport { __ } from '@wordpress/i18n';\n\nimport { BlockVisibilityDateTimeControls }  from './block-visibility-date-time-controls';\n\nfunction BlockVisibilityDateTimePanelBodyControl( { instanceId, props } ) {\n\n    const id = `bv-date-time-${ instanceId }`;\n\n    return (\n        <PanelBody\n            title={ __( 'Date and Time', 'block-visibility-date-time' ) }\n            initialOpen={ false }\n            className=\"block-visibility-control-panel block-visibility-date-time-controls\"\n        >\n            <PanelRow>\n                <BlockVisibilityDateTimeControls props={ props } />\n            </PanelRow>\n        </PanelBody>\n    );\n\n}\n\nexport default withInstanceId( BlockVisibilityDateTimePanelBodyControl );","import { Fill, Disabled } from '@wordpress/components';\nimport { __ } from '@wordpress/i18n';\nimport { registerPlugin } from '@wordpress/plugins';\nimport { addFilter } from '@wordpress/hooks';\n\nimport BlockVisibilityDateTimePanelBodyControl from './block-visibility-date-time-panel-body';\n\nexport function BlockVisibilityDateTimeControl( data ) {\n\n    let { props } = { ...data };\n\n    let rulesEnabled    = props.attributes.blockVisibilityRules.blockVisibilityRulesEnabled;\n    let blockVisibility = props.attributes.hasOwnProperty( 'blockVisibility' );\n\n    if ( ! rulesEnabled || ! blockVisibility ) {\n        return (\n            <Disabled><BlockVisibilityDateTimePanelBodyControl props={ props } /></Disabled>\n        );\n    }\n\n    return (\n        <BlockVisibilityDateTimePanelBodyControl props={ props } />\n    );\n\n}\n\n/**\n * Render the <BlockVisibilityDateTimeControl> component by adding\n * it to the block-visibility-extra-controls Fill.\n *\n * @return {Object} A Fill component wrapping the BlockVisibilityDateTimeControl component.\n */\nfunction BlockVisibilityDateTimeFill() {\n    return (\n        <Fill name=\"block-visibility-extra-controls\">\n            {\n                ( fillProps ) => {\n                    return (\n                        <BlockVisibilityDateTimeControl props={ fillProps } />\n                    )\n                }\n            }\n        </Fill>\n    );\n\n}\n\n// Add our component to the Slot provided by BlockVisibilityControls\nregisterPlugin( 'block-visibility-03-date-time-fill', { render: BlockVisibilityDateTimeFill } );\n\n\n// Register our visibility rule with the main plugin\naddFilter( 'blockVisibility.defaultBlockVisibilityRules', 'block-visibility-date-time/block-visibility-rules', registerDateTimeBlockVisibilityRule );\n\nfunction registerDateTimeBlockVisibilityRule( defaultRules ) {\n\n    defaultRules.dateTime = {\n        start: {},\n        end: {}\n    };\n\n    return defaultRules;\n\n}\n","import BlockVisibilityDateTimeControl from './controls/block-visibility-date-time';","(function() { module.exports = this[\"wp\"][\"components\"]; }());","(function() { module.exports = this[\"wp\"][\"compose\"]; }());","(function() { module.exports = this[\"wp\"][\"element\"]; }());","(function() { module.exports = this[\"wp\"][\"hooks\"]; }());","(function() { module.exports = this[\"wp\"][\"i18n\"]; }());","(function() { module.exports = this[\"wp\"][\"plugins\"]; }());"],"sourceRoot":""}